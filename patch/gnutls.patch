--- configure.ac
+++ configure.ac
@@ -859,6 +859,7 @@
       AC_PATH_PROG([GUILD], [guild])
       AC_SUBST([GUILD])
 
+      GUILE_PKG
       GUILE_PROGS
       GUILE_FLAGS
 
--- configure.ac
+++ configure.ac
@@ -859,9 +859,7 @@
       AC_PATH_PROG([GUILD], [guild])
       AC_SUBST([GUILD])
 
-      GUILE_PKG
-      GUILE_PROGS
-      GUILE_FLAGS
+      PKG_CHECK_MODULES([GUILE], [guile-2.2])
 
       save_CFLAGS="$CFLAGS"
       save_LIBS="$LIBS"
